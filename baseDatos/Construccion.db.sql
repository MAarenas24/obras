BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "OBRAS" (
	"COD_OBRA"	CHAR(5) NOT NULL,
	"DESCRIPCION"	VARCHAR(15) NOT NULL,
	"FEC_TERMINA"	CHAR(8) NOT NULL DEFAULT 21001231,
	PRIMARY KEY("COD_OBRA")
);
CREATE TABLE IF NOT EXISTS "SERVICIOS" (
	"NIF_TRAB"	VARCHAR2(9) NOT NULL,
	"COD_OBRAS"	CHAR(5) NOT NULL,
	"FECHA"	CHAR(8) NOT NULL,
	"HORA_INICIO"	CHAR(4) NOT NULL,
	"HORA_FIN"	CHAR(4) NOT NULL,
	PRIMARY KEY("NIF_TRAB","COD_OBRAS","FECHA","HORA_INICIO"),
	FOREIGN KEY("COD_OBRAS") REFERENCES "OBRAS"("COD_OBRA") ON UPDATE CASCADE,
	FOREIGN KEY("NIF_TRAB") REFERENCES "TRABAJADORES"("NIF") ON UPDATE CASCADE
);
CREATE TABLE IF NOT EXISTS "TRABAJADORES" (
	"NIF"	VARCHAR2(9) NOT NULL,
	"NOMBRE"	VARCHAR2(20) NOT NULL,
	"POBLACION"	VARCHAR2(15) NOT NULL,
	"PVP_HORA"	INTEGER NOT NULL DEFAULT 0,
	"TIPO"	INTEGER NOT NULL,
	PRIMARY KEY("NIF")
);
INSERT INTO "OBRAS" VALUES ('00001','Obra en la Sagrada familia','21001231');
INSERT INTO "OBRAS" VALUES ('00002','Obra del AVE en Almeria','21001231');
INSERT INTO "OBRAS" VALUES ('00003','Remodelaci√≥n','20251130');
INSERT INTO "OBRAS" VALUES ('00005','Vivienda Uni.','21001231');
INSERT INTO "OBRAS" VALUES ('00006','Casa','20251127');
INSERT INTO "OBRAS" VALUES ('asas','esto es una prueba se va a eliminar acontinuacion','12311231');
INSERT INTO "SERVICIOS" VALUES ('77704432J','00001','20251101','0800','1600');
INSERT INTO "SERVICIOS" VALUES ('77704431X','00002','20251101','0930','1430');
INSERT INTO "SERVICIOS" VALUES ('77704431X','00002','20251101','1500','1900');
INSERT INTO "SERVICIOS" VALUES ('77704433J','00001','20251104','0730','1200');
INSERT INTO "SERVICIOS" VALUES ('77704434J','00002','20251104','1300','1700');
INSERT INTO "TRABAJADORES" VALUES ('77704432J','Miguel Angel','Almeria',7,0);
INSERT INTO "TRABAJADORES" VALUES ('77704431X','Adrian','Almer',5,1);
INSERT INTO "TRABAJADORES" VALUES ('77704433J','Manu','Pescaderia',7,0);
INSERT INTO "TRABAJADORES" VALUES ('77704434J','ernesto','Motril',5,0);
COMMIT;
